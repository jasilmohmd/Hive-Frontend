<div class="flex flex-col items-center justify-center m-4 sm:m-8">

  <div *ngIf="errorMessage" class="w-full max-w-sm bg-red-500 text-white text-sm sm:text-base font-light p-2 rounded-md mb-4 mx-auto text-center">
    {{ errorMessage }}
  </div>

  <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-6 sm:mb-10 text-white text-center drop-shadow-md">Create Account</h2>
  <div class="h-auto sm:h-[60vh] w-[80vw] sm:w-[60vw] lg:w-[40vw] xl:w-[30vw] flex items-center justify-center shadow-lg rounded-2xl bg-gray-600/10 backdrop-blur-lg p-4 sm:p-0">
    
    <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="w-full sm:w-3/4 max-w-sm flex flex-col">

      <!-- Username -->
      <div class="mb-2">
        <label for="username" class="block text-base sm:text-lg md:text-xl font-light text-slate-50">Username</label>
        <input 
          formControlName="userName"
          type="text"
          id="username"
          class="mt-1 block w-full h-7 sm:h-10 p-2 bg-white/20 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-transparent"
        />
        <p *ngIf="registerForm.get('userName')?.invalid && registerForm.get('userName')?.touched" class="text-red-500 text-xs">Username is required</p>
      </div>

      <!-- Password -->
      <div class="mb-3">
        <label for="password" class="block text-base sm:text-lg md:text-xl font-light text-slate-50">Password</label>
        <input 
          formControlName="password"
          type="password"
          id="password"
          class="mt-1 block w-full h-7 sm:h-10 p-2 bg-white/20 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-transparent"
        />
        <p *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="text-red-500 text-xs">Password must be at least 6 characters</p>
      </div>

      <!-- Confirm Password -->
      <div class="mb-3">
        <label for="confirm-password" class="block text-base sm:text-lg md:text-xl font-light text-slate-50">Confirm Password</label>
        <input 
          formControlName="confirmPassword"
          type="password"
          id="confirm-password"
          class="mt-1 block w-full h-7 sm:h-10 p-2 bg-white/20 rounded-md focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-transparent"
        />
        <p *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched" class="text-red-500 text-xs">Passwords do not match</p>
      </div>

      <!-- Submit Button -->
      <button 
      type="submit" 
      [disabled]="registerForm.invalid"
      [ngClass]="
        registerForm.invalid 
          ? 'opacity-50 translate-y-0' 
          : 'translate-y-1 hover:translate-y-0 cursor-pointer'
      "
      class="w-3/4 sm:w-1/2 font-medium text-base sm:text-lg md:text-xl bg-[#F3C70D] text-white py-2 px-4 rounded-3xl mx-auto drop-shadow-md transition-all duration-300 ease-in-out"
      >
        Continue
      </button>

      <!-- Login Link -->
      <p class="text-xs sm:text-sm md:text-base text-slate-100 font-thin mt-6 text-center">Already have an account? 
        <a href="auth/login" class="text-gray-700 hover:text-blue-600 hover:cursor-pointer">Login</a>
      </p>
    </form>
  </div>
</div>
