<div class="bg-[#1B1B1B] text-white rounded-2xl p-6 max-w-md mx-auto mt-10">
  <h2 class="text-2xl font-bold mb-4">Change Password</h2>
  <form [formGroup]="changePasswordForm" (ngSubmit)="updatePassword()">
    <!-- Old Password -->
    <div class="mb-4">
      <label class="block text-gray-400 mb-1">Old Password</label>
      <input type="password" formControlName="oldPassword" 
             class="w-full px-4 py-2 rounded bg-black text-white border border-gray-700 focus:outline-none focus:border-green-500">
      <div *ngIf="changePasswordForm.get('oldPassword')?.invalid && (changePasswordForm.get('oldPassword')?.dirty || changePasswordForm.get('oldPassword')?.touched)" class="text-red-500 text-xs mt-1">
        <div *ngIf="changePasswordForm.get('oldPassword')?.errors?.['required']">
          Old Password is required.
        </div>
        <div *ngIf="changePasswordForm.get('oldPassword')?.errors?.['minlength']">
          Old Password must be at least 6 characters long.
        </div>
      </div>
    </div>
    
    <!-- New Password -->
    <div class="mb-4">
      <label class="block text-gray-400 mb-1">New Password</label>
      <input type="password" formControlName="newPassword" 
             class="w-full px-4 py-2 rounded bg-black text-white border border-gray-700 focus:outline-none focus:border-green-500">
      <div *ngIf="changePasswordForm.get('newPassword')?.invalid && (changePasswordForm.get('newPassword')?.dirty || changePasswordForm.get('newPassword')?.touched)" class="text-red-500 text-xs mt-1">
        <div *ngIf="changePasswordForm.get('newPassword')?.errors?.['required']">
          New Password is required.
        </div>
        <div *ngIf="changePasswordForm.get('newPassword')?.errors?.['minlength']">
          New Password must be at least 6 characters long.
        </div>
      </div>
    </div>
    
    <!-- Confirm Password -->
    <div class="mb-4">
      <label class="block text-gray-400 mb-1">Confirm Password</label>
      <input type="password" formControlName="confirmPassword" 
             class="w-full px-4 py-2 rounded bg-black text-white border border-gray-700 focus:outline-none focus:border-green-500">
      <div *ngIf="changePasswordForm.get('confirmPassword')?.invalid && (changePasswordForm.get('confirmPassword')?.dirty || changePasswordForm.get('confirmPassword')?.touched)" class="text-red-500 text-xs mt-1">
        <div *ngIf="changePasswordForm.get('confirmPassword')?.errors?.['required']">
          Confirm Password is required.
        </div>
      </div>
    </div>

    <!-- Group-level Error Messages -->
    <div *ngIf="changePasswordForm.errors?.['sameAsOld']" class="text-red-500 text-xs mb-4">
      New password must be different from the old password.
    </div>
    <div *ngIf="changePasswordForm.errors?.['mismatch']" class="text-red-500 text-xs mb-4">
      New Password and Confirm Password do not match.
    </div>

    <button type="submit" 
            [disabled]="changePasswordForm.invalid"
            class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed">
      Change Password
    </button>
  </form>
  <div *ngIf="errorMessage" class="mt-4 text-red-500">{{ errorMessage }}</div>
</div>
